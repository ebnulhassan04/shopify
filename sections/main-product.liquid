<style>
  /* Wrapper styling */
  .shopify-payment-button {
    margin-top: 10px;
  }

  /* Hidden default styles override */
  .shopify-payment-button button {
    background-color: #000 !important;
    /* তোমার পছন্দের কালার */
    color: #fff !important;
    border-radius: 8px !important;
    font-weight: bold !important;
    padding: 15px 0 !important;
    font-size: 18px !important;
  }

  /* === Product Gallery === */
  .main-product-section .product-gallery img {
    border-radius: 10px;
  }
  .main-product-section .carousel-control-prev-icon,
  .main-product-section .carousel-control-next-icon {
    background-color: rgba(0, 0, 0, 0.5);
    border-radius: 50%;
    padding: 10px;
  }
  .main-product-section .product-info h1 {
    font-size: 2rem;
  }

  /* === Add to Cart Button === */
  .main-product-section .btn-primary {
    background-color: #007bff;
    border: none;
  }
  .main-product-section .btn-primary:hover {
    background-color: #0056b3;
  }

  /* === Color Swatches === */
  .color-swatch {
    cursor: pointer;
    position: relative;
  }
  .color-swatch input:checked + .swatch-circle {
    border: 2px solid #007bff;
    transform: scale(1.1);
  }
  .swatch-circle {
    display: inline-block;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    border: 1px solid #ddd;
    transition: all 0.2s ease;
  }

  /* === Size Buttons === */
  .size-button {
    cursor: pointer;
  }
  .size-button input:checked + .btn {
    background-color: #007bff;
    color: #fff;
    border-color: #007bff;
  }
</style>

<section class="main-product-section py-5">
  <div class="container">
    <div class="row g-5">

      <!-- === Product Image Gallery === -->
      <div class="col-md-6">
        <div class="product-gallery">
          <div
            id="productCarousel"
            class="carousel slide"
            data-bs-ride="carousel">
            <div class="carousel-inner">
              {% for image in product.images %}
                <div class="carousel-item {% if forloop.first %} active {% endif %} ">
                  <img
                    src="{{ image.src |  image_url: width: auto }}"
                    class="d-block w-100 rounded shadow-sm"
                    alt="Product Image 1">
                </div>
              {% endfor %}
            </div>
            {% if product.images.size > 1 %}
              <button
                class="carousel-control-prev"
                type="button"
                data-bs-target="#productCarousel"
                data-bs-slide="prev">
                <span class="carousel-control-prev-icon"></span>
              </button>
              <button
                class="carousel-control-next"
                type="button"
                data-bs-target="#productCarousel"
                data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
              </button>
            {% endif %}
          </div>
        </div>
      </div>

      <!-- === Product Info Section === -->
      <div class="col-md-6">
        <div class="product-info">

          <!-- Product Title -->
          {% form 'product'
            , product %}
            {% for block in section.blocks %}
              {% case block.type %}
                {% when 'title' %}
                  <h1 class="fw-bold mb-3">{{ product.title }}</h1>

                <!-- Product Price -->
                {%- when 'price' -%}
                  <div class="mb-3">
                    {% if product.compare_at_price > product.price %}
                      <span class="text-muted text-decoration-line-through me-2">{{ product.compare_at_price | money }}</span>
                    {% endif %}
                    {% if product.price %}
                      <span class="fs-4 fw-bold text-primary">{{ product.price | money }}</span>
                    {% endif %}
                  </div>

                <!-- Stock Availability -->
                {%- when 'stock' -%}
                  <div class="mb-3">
                    {% assign current_stock = product.selected_or_first_available_variant %}
                    {% if current_stock.available %}
                      <p class="text-success fw-semibold">In Stock — Only {{ current_stock.inventory_quantity }} left!</p>
                    {%- else -%}
                      <p class="text-danger fw-semibold">Out of Stock</p>
                    {% endif %}
                  </div>

                <!-- Quantity Selector -->
                {%- when 'quantity' -%}
                  <div class="d-flex align-items-center mb-3">
                    <label class="me-2 fw-semibold">Qty:</label>
                    <input
                      type="number"
                      name="quantity"
                      value="1"
                      min="1"
                      class="form-control w-25">
                  </div>

                <!-- Add to Cart & Buy Now Buttons -->
                {%- when 'add_to_card' -%}
                  <div class="d-grid gap-2">
                    <button
                      type="submit"
                      class="btn btn-primary btn-lg w-100"
                      {% unless product.available %}
                      Desible
                      {% endunless %}>
                      {% if product.available %}
                        Add to Cart
                      {%- else -%}
                        Sold Out
                      {% endif %}
                    </button>
                  </div>
                {%- when 'buy_now' -%}
                  <!-- Buy Now Button -->
                  <div class="shopify-payment-button w-100">
                    {{ form | payment_button }}
                  </div>

                <!-- Product Description -->
                {%- when 'description' -%}
                  <div class="mt-4">
                    <h5 class="fw-bold">Description</h5>
                    <p class="text-muted">
                      {{ product.description }}
                    </p>
                  </div>

                <!-- Social Share -->
                {%- when 'share' -%}
                  <div class="mt-4">
                    <h6 class="fw-semibold">Share this product</h6>
                    <a
                      href="https://www.facebook.com/sharer/sharer.php?u={{ shop.url }}{{ product.url }}"
                      class="btn btn-outline-primary btn-sm me-2"
                      target="_blank">Facebook</a>
                    <a
                      href="https://twitter.com/share?url={{ shop.url }}{{ product.url }}"
                      class="btn btn-outline-info btn-sm me-2"
                      target="_blank">Twitter</a>
                    <a
                      href="https://pinterest.com/pin/create/button/?url={{ shop.url }}{{ product.url }}"
                      class="btn btn-outline-danger btn-sm"
                      target="_blank">Pinterest</a>
                  </div>
              {% endcase %}
            {% endfor %}
          {% endform %}
        </div>
      </div>
    </div>
  </div>
</section>


{% schema %}
  {
    "name": "Product Page",
    "settings": [],
    "blocks": [
      {
        "name": "title",
        "type": "title",
        "limit": 1

      },
      {
        "name": "price",
        "type": "price",
        "limit": 1

      },
      {
        "name": "quantity",
        "type": "quantity",
        "limit": 1

      },
      {
        "name": "add to card",
        "type": "add_to_card",
        "limit": 1

      }, {
        "name": "Buy Now",
        "type": "buy_now",
        "limit": 1

      }, {
        "name": "stock",
        "type": "stock",
        "limit": 1

      }, {
        "name": "description",
        "type": "description",
        "limit": 1

      }, {
        "name": "share",
        "type": "share",
        "limit": 1

      }
    ],
    "presets": [
      {
        "name": "Product Page",
        "blocks": [
          {
            "type": "title"
          },
          {
            "type": "price"
          },
          {
            "type": "stock"
          },
          {
            "type": "quantity"
          }, {
            "type": "add_to_card"
          }, {
            "type": "buy_now"
          }, {
            "type": "description"
          }, {
            "type": "share"
          }
        ]
      }
    ]
  }

{% endschema %}